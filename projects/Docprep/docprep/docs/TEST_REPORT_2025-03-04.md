# DocPrep Test Report 2025-03-04

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-01-17
**–í–µ—Ä—Å–∏—è:** Current main branch
**–¢–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä:** 2025-03-04 (2585 UNIT)

---

## Executive Summary

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| **Success Rate** | 69.6% | ‚úÖ –•–æ—Ä–æ—à–æ |
| **Exception Rate** | 30.2% | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ |
| **–û–±—â–µ–µ –≤—Ä–µ–º—è** | ~15 –º–∏–Ω—É—Ç | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **Throughput** | ~172 UNIT/–º–∏–Ω | ‚úÖ –•–æ—Ä–æ—à–æ |

---

## 1. –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **–î–∞—Ç–∞:** 2025-03-04
- **Input UNIT:** 2585
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** `../Data/2025-03-04/Input`
- **–ù–∞ 28% –±–æ–ª—å—à–µ** —á–µ–º 2025-12-23 (2018 UNIT)

---

## 2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Ü–∏–∫–ª–∞–º

### Cycle 1: –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

**–í—Ä–µ–º—è:** ~7 –º–∏–Ω—É—Ç
**–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 2585 UNIT

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–æ—Ü–µ–Ω—Ç |
|-----------|------------|---------|
| **Merge/Direct** | 1451 | 56.1% |
| **Processing_1** | 353 | 13.7% |
| **Exceptions (Empty)** | 781 | 30.2% |

**Breakdown Direct:**
- pdf: 1019
- docx: 338
- Mixed: 93
- xlsx: 1

**Breakdown Processing_1:**
- Convert: 192
- Extract: 144
- Normalize: 17

### Cycle 1: –û–±—Ä–∞–±–æ—Ç–∫–∞

**–í—Ä–µ–º—è:** 4–º 41—Å
**–£—Å–ø–µ—à–Ω–æ—Å—Ç—å:** 100% (353/353)

| –û–ø–µ—Ä–∞—Ü–∏—è | INPUT | OUTPUT | –£—Å–ø–µ—à–Ω–æ—Å—Ç—å |
|----------|-------|--------|------------|
| Convert | 192 | 192 | 100% |
| Extract | 144 | 144 | 100% |
| Normalize | 17 | 17 | 100% |

**LibreOffice:** 192 –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–π –±–µ–∑ –æ—à–∏–±–æ–∫

### Cycle 2: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è Extracted

**–í—Ä–µ–º—è:** 21 —Å–µ–∫—É–Ω–¥–∞
**–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 144 UNIT

| –†–µ–∑—É–ª—å—Ç–∞—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|------------|
| Mixed | 141 |
| Direct | 3 |

### Cycle 2: –û–±—Ä–∞–±–æ—Ç–∫–∞

**–í—Ä–µ–º—è:** 57 —Å–µ–∫—É–Ω–¥
**–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 55 UNIT

| –û–ø–µ—Ä–∞—Ü–∏—è | INPUT | OUTPUT |
|----------|-------|--------|
| Convert | 53 | 53 |
| Normalize | 2 | 2 |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ 141 Mixed UNIT –Ω–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### Cycle 3

**–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** - –Ω–µ—Ç Extracted –∏–∑ Processed_2.

---

## 3. –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Ready2Docling

| –¢–∏–ø | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç R2D |
|-----|------------|----------------|
| **pdf** | 1031 | 57.3% |
| **docx** | 499 | 27.7% |
| **Mixed** | 126 | 7.0% |
| **other** | 143 | 7.9% |
| **–ò—Ç–æ–≥–æ** | **1799** | **100%** |

### Exceptions Breakdown

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–æ—Ü–µ–Ω—Ç |
|-----------|------------|---------|
| Direct/Empty | 781 | 100% |
| **–ò—Ç–æ–≥–æ** | **781** | **30.2%** |

---

## 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –≠—Ç–∞–ø | –í—Ä–µ–º—è | UNIT/—Å–µ–∫ |
|------|-------|----------|
| Cycle 1 Classification | ~7m | ~6.2 |
| Cycle 1 Processing | 4m 41s | ~1.3 |
| Cycle 2 Classification | 21s | ~6.9 |
| Cycle 2 Processing | 57s | ~0.96 |
| Final Merge | 8s | ~224 |
| **–ò–¢–û–ì–û** | **~15m** | **~2.9** |

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | Formula | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|---------|----------|
| **Success Rate** | R2D / Input √ó 100% | 69.6% |
| **Direct Pass Rate** | Direct / Input √ó 100% | 56.1% |
| **Conversion Success** | Converted / Attempts √ó 100% | 100% |
| **Extraction Success** | Extracted / Attempts √ó 100% | 100% |
| **Exception Rate** | Exceptions / Input √ó 100% | 30.2% |

---

## 5. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å 2025-12-23

| –ú–µ—Ç—Ä–∏–∫–∞ | 2025-12-23 | 2025-03-04 | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|------------|------------|-----------|
| Input | 2018 | 2585 | +28% |
| Success Rate | ~70% | 69.6% | ~0% |
| Exception Rate | ~5% | 30.2% | +504% ‚ö†Ô∏è |

**–ö—Ä–∏—Ç–∏—á–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ:** –†–µ–∑–∫–∏–π —Ä–æ—Å—Ç Exception Rate —Å ~5% –¥–æ 30.2%

---

## 6. –ê–Ω–∞–ª–∏–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (Exceptions)

### Direct/Empty: 781 UNIT (30.2%)

**–ü—Ä–∏—á–∏–Ω—ã:**
- UNIT –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –≤—ã–±–æ—Ä–∫—É 10-20 UNIT –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

---

## 7. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (Warnings)

### "Multiple definitions in dictionary"

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** ~460 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

**–ü—Ä–∏—á–∏–Ω–∞:** PDF —Ñ–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º–∏—Å—è –∑–∞–ø–∏—Å—è–º–∏ –≤ —Å–ª–æ–≤–∞—Ä—è—Ö

**–í–ª–∏—è–Ω–∏–µ:** –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –ø–æ–¥–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –ª–æ–≥–æ–≤

---

## 8. –í—ã–≤–æ–¥—ã

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** 100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π Convert/Extract/Normalize
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ~15 –º–∏–Ω—É—Ç –¥–ª—è 2585 UNIT
3. **LibreOffice:** –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ fallback
4. **State Machine:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–∏–∫–ª—ã
5. **–ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ —Ü–∏–∫–ª—ã:** Cycle 2 –æ—Ç—Ä–∞–±–æ—Ç–∞–ª –∫–∞–∫ –æ–∂–∏–¥–∞–ª–æ—Å—å

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã

1. **–í—ã—Å–æ–∫–∏–π Exception Rate:** 30.2% (vs ~5% —Ä–∞–Ω–µ–µ)
   - **–ö–†–ò–¢–ò–ß–ù–û:** –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑ Direct/Empty

2. **Mixed UNIT:** 126 (7% –æ—Ç R2D)
   - –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

### üîç –¢—Ä–µ–±—É–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

1. **–ü–æ—á–µ–º—É 30.2% Empty?**
   - –û—à–∏–±–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞?
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö?
   - –ù–æ–≤—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤?

---

## 9. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–†–ò–¢–ò–ß–ù–´–ï

1. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Direct/Empty**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ 10 —Å–ª—É—á–∞–π–Ω—ã—Ö Empty UNIT
   ls ../Data/2025-03-04/Exceptions/Direct/Empty/ | head -10 | while read id; do
       echo "=== $id ==="
       ls -la "../Data/2025-03-04/Input/$id/"
   done
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É Empty Rate**
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - Alert –ø—Ä–∏ >10%

### –í–ê–ñ–ù–´–ï

3. **–£–ª—É—á—à–∏—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É Empty
   - –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –≤ audit.log

4. **–¢–µ—Å—Ç—ã –¥–ª—è State Machine**
   - –ü–æ–∫—Ä—ã—Ç–∏–µ: 0% ‚Üí 80%+
   - –¢–µ—Å—Ç—ã –¥–ª—è Multi-cycle

### –ñ–ï–õ–ê–¢–ï–õ–¨–ù–´–ï

5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞**
   - –£–±—Ä–∞—Ç—å "Multiple definitions" warnings
   - –î–æ–±–∞–≤–∏—Ç—å progress bar

6. **–ú–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - Success rate
   - Exception rate

---

## 10. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Phase 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å failing tests (isolation)
- [ ] –î–æ–±–∞–≤–∏—Ç—å State Machine —Ç–µ—Å—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å Manifest —Ç–µ—Å—Ç—ã
- [ ] Extract constants

### Phase 4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md
- [ ] –°–æ–∑–¥–∞—Ç—å REFACTORING_STATUS.md
- [ ] –°–æ–∑–¥–∞—Ç—å TESTING_STATUS.md
- [ ] –°–æ–∑–¥–∞—Ç—å API_REFERENCE.md

---

**–û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** 2025-01-17
**DocPrep Backend v2.0**
